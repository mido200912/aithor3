{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mido2\\\\Downloads\\\\AiThor\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { companyService } from \"../services/api\";\nimport { useNavigate } from \"react-router-dom\";\nimport ProjectManagement from \"./ProjectManagement\";\nimport ChatInterface from \"./ChatInterface\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [company, setCompany] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [activeTab, setActiveTab] = useState(\"overview\");\n  const {\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchCompanyData();\n  }, []);\n  const fetchCompanyData = async () => {\n    try {\n      const data = await companyService.getCompany();\n      setCompany(data);\n    } catch (err) {\n      var _err$response;\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 404) {\n        setError(\"لم يتم العثور على بيانات الشركة. يرجى إكمال إعداد الشركة أولاً.\");\n      } else {\n        setError(\"حدث خطأ أثناء تحميل بيانات الشركة\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleLogout = () => {\n    logout();\n    navigate(\"/login\");\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 48\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: \"100vh\",\n      background: \"var(--bg)\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        paddingTop: 24\n      },\n      children: error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            color: \"#dc3545\",\n            marginBottom: 20\n          },\n          children: \"\\u062E\\u0637\\u0623\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"#6c757d\",\n            marginBottom: 20\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/company-setup\"),\n          className: \"btn btn-primary\",\n          children: \"\\u0625\\u0639\\u062F\\u0627\\u062F \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: \"10px\",\n            marginBottom: \"30px\",\n            background: \"white\",\n            padding: \"10px\",\n            borderRadius: \"8px\",\n            boxShadow: \"0 2px 10px rgba(0,0,0,0.1)\"\n          },\n          children: [[\"overview\", \"نظرة عامة\"], [\"company\", \"بيانات الشركة\"], [\"requests\", \"طلبات العملاء\"], [\"projects\", \"المشاريع\"], [\"chat\", \"الدردشة\"], [\"api\", \"API Key\"]].map(([key, label]) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab(key),\n            className: `btn ${activeTab === key ? \"btn-primary\" : \"btn-secondary\"}`,\n            style: {\n              flex: 1\n            },\n            children: label\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), activeTab === \"overview\" && /*#__PURE__*/_jsxDEV(Overview, {\n          company: company\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 42\n        }, this), activeTab === \"company\" && /*#__PURE__*/_jsxDEV(CompanyInfo, {\n          company: company,\n          onUpdate: fetchCompanyData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 41\n        }, this), activeTab === \"requests\" && /*#__PURE__*/_jsxDEV(CustomerRequests, {\n          company: company,\n          onUpdate: fetchCompanyData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 42\n        }, this), activeTab === \"projects\" && /*#__PURE__*/_jsxDEV(ProjectManagement, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 42\n        }, this), activeTab === \"chat\" && /*#__PURE__*/_jsxDEV(ChatInterface, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 38\n        }, this), activeTab === \"api\" && /*#__PURE__*/_jsxDEV(ApiKeyInfo, {\n          company: company\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n/*-------------------------------\r\n  نظرة عامة\r\n-------------------------------*/\n_s(Dashboard, \"JCTozMcAYruiLDjf9hkVhGoB/nE=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Dashboard;\nconst Overview = ({\n  company\n}) => {\n  var _company$requests;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: \"#667eea\",\n          marginBottom: 10\n        },\n        children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"1.2rem\",\n          fontWeight: 600\n        },\n        children: (company === null || company === void 0 ? void 0 : company.name) || \"غير محدد\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: \"#667eea\",\n          marginBottom: 10\n        },\n        children: \"\\u0627\\u0644\\u0642\\u0637\\u0627\\u0639\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"1.2rem\",\n          fontWeight: 600\n        },\n        children: (company === null || company === void 0 ? void 0 : company.industry) || \"غير محدد\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: \"#667eea\",\n          marginBottom: 10\n        },\n        children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"1.2rem\",\n          fontWeight: 600\n        },\n        children: (company === null || company === void 0 ? void 0 : (_company$requests = company.requests) === null || _company$requests === void 0 ? void 0 : _company$requests.length) || 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 3\n  }, this);\n};\n\n/*-------------------------------\r\n  معلومات الشركة\r\n-------------------------------*/\n_c2 = Overview;\nconst CompanyInfo = ({\n  company,\n  onUpdate\n}) => {\n  _s2();\n  const [formData, setFormData] = useState(company);\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(\"\");\n  const handleChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setSuccess(\"\");\n    try {\n      await companyService.updateCompany(formData);\n      setSuccess(\"تم تحديث بيانات الشركة بنجاح\");\n      onUpdate();\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginBottom: 20,\n        color: \"#495057\"\n      },\n      children: \"\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [[\"name\", \"industry\", \"description\", \"vision\", \"mission\"].map(field => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: field\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: field,\n          className: \"form-input\",\n          value: (formData === null || formData === void 0 ? void 0 : formData[field]) || \"\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this)]\n      }, field, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this)), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        disabled: loading,\n        children: loading ? \"جاري الحفظ...\" : \"حفظ التغييرات\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n};\n\n/*-------------------------------\r\n  طلبات العملاء\r\n-------------------------------*/\n_s2(CompanyInfo, \"n+gkXfPkR0wWNmCXwwKhaejpoJo=\");\n_c3 = CompanyInfo;\nconst CustomerRequests = ({\n  company,\n  onUpdate\n}) => {\n  _s3();\n  const [requests, setRequests] = useState((company === null || company === void 0 ? void 0 : company.requests) || []);\n  const [loading, setLoading] = useState(false);\n  const handleDelete = async index => {\n    if (!window.confirm(\"هل أنت متأكد من حذف هذا الطلب؟\")) return;\n    setLoading(true);\n    try {\n      await companyService.deleteRequest(index);\n      setRequests(r => r.filter((_, i) => i !== index));\n      onUpdate();\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginBottom: 20,\n        color: \"#495057\"\n      },\n      children: \"\\u0637\\u0644\\u0628\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u0644\\u0627\\u0621\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), requests.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: \"center\",\n        color: \"#6c757d\"\n      },\n      children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0637\\u0644\\u0628\\u0627\\u062A \\u062D\\u0627\\u0644\\u064A\\u0627\\u064B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this) : requests.map((req, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: \"#f8f9fa\",\n        padding: 15,\n        borderRadius: 8,\n        marginBottom: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: req.customerName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0627\\u0644\\u0645\\u0646\\u062A\\u062C: \", req.product]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0627\\u0644\\u0631\\u0633\\u0627\\u0644\\u0629: \", req.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }, this), req.aiReply && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"#007bff\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u0631\\u062F \\u0627\\u0644\\u0630\\u0643\\u0627\\u0621 \\u0627\\u0644\\u0627\\u0635\\u0637\\u0646\\u0627\\u0639\\u064A:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 17\n        }, this), \" \", req.aiReply]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: new Date(req.date).toLocaleString(\"ar-EG\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: () => handleDelete(i),\n          disabled: loading,\n          children: \"\\u062D\\u0630\\u0641\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n};\n\n/*-------------------------------\r\n  API Key Info\r\n-------------------------------*/\n_s3(CustomerRequests, \"e0HbK+BW5Vda1261pEaXroXIcCs=\");\n_c4 = CustomerRequests;\nconst ApiKeyInfo = ({\n  company\n}) => {\n  _s4();\n  const [copied, setCopied] = useState(false);\n  const apiURL = `${window.location.origin.replace(\"3000\", \"5000\")}/api/company/external-request`;\n  const copyKey = () => {\n    navigator.clipboard.writeText((company === null || company === void 0 ? void 0 : company.apiKey) || \"\");\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginBottom: 20\n      },\n      children: \"\\u0645\\u0641\\u062A\\u0627\\u062D API\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 10,\n        marginBottom: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-input\",\n        value: (company === null || company === void 0 ? void 0 : company.apiKey) || \"\",\n        readOnly: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: copyKey,\n        children: copied ? \"تم النسخ!\" : \"نسخ\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: \"#e3f2fd\",\n        padding: 15,\n        borderRadius: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          color: \"#1976d2\"\n        },\n        children: \"\\u0643\\u064A\\u0641\\u064A\\u0629 \\u0627\\u0633\\u062A\\u062E\\u062F\\u0627\\u0645 \\u0627\\u0644\\u0640 API\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u064A\\u0645\\u0643\\u0646 \\u0644\\u0623\\u064A \\u0639\\u0645\\u064A\\u0644 \\u0625\\u0631\\u0633\\u0627\\u0644 \\u0637\\u0644\\u0628 \\u0625\\u0644\\u0649 \\u0627\\u0644\\u0630\\u0643\\u0627\\u0621 \\u0627\\u0644\\u0627\\u0635\\u0637\\u0646\\u0627\\u0639\\u064A \\u0639\\u0628\\u0631:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        style: {\n          background: \"#f5f5f5\",\n          padding: 10,\n          borderRadius: 4,\n          fontSize: \"0.9rem\",\n          overflow: \"auto\"\n        },\n        children: `POST ${apiURL}\nContent-Type: application/json\n\n{\n  \"apiKey\": \"${(company === null || company === void 0 ? void 0 : company.apiKey) || \"your-api-key\"}\",\n  \"customerName\": \"اسم العميل\",\n  \"product\": \"اسم المنتج\",\n  \"message\": \"رسالة العميل\"\n}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n};\n_s4(ApiKeyInfo, \"NE86rL3vg4NVcTTWDavsT0hUBJs=\");\n_c5 = ApiKeyInfo;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Dashboard\");\n$RefreshReg$(_c2, \"Overview\");\n$RefreshReg$(_c3, \"CompanyInfo\");\n$RefreshReg$(_c4, \"CustomerRequests\");\n$RefreshReg$(_c5, \"ApiKeyInfo\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","companyService","useNavigate","ProjectManagement","ChatInterface","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","company","setCompany","loading","setLoading","error","setError","activeTab","setActiveTab","logout","navigate","fetchCompanyData","data","getCompany","err","_err$response","response","status","handleLogout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","minHeight","background","paddingTop","color","marginBottom","onClick","display","gap","padding","borderRadius","boxShadow","map","key","label","flex","Overview","CompanyInfo","onUpdate","CustomerRequests","ApiKeyInfo","_c","_company$requests","fontSize","fontWeight","name","industry","requests","length","_c2","_s2","formData","setFormData","success","setSuccess","handleChange","e","target","value","handleSubmit","preventDefault","updateCompany","onSubmit","field","type","onChange","disabled","_c3","_s3","setRequests","handleDelete","index","window","confirm","deleteRequest","r","filter","_","i","textAlign","req","customerName","product","message","aiReply","Date","date","toLocaleString","_c4","_s4","copied","setCopied","apiURL","location","origin","replace","copyKey","navigator","clipboard","writeText","apiKey","setTimeout","readOnly","overflow","_c5","$RefreshReg$"],"sources":["C:/Users/mido2/Downloads/AiThor/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { companyService } from \"../services/api\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ProjectManagement from \"./ProjectManagement\";\r\nimport ChatInterface from \"./ChatInterface\";\r\n\r\nconst Dashboard = () => {\r\n  const [company, setCompany] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState(\"overview\");\r\n  const { logout } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchCompanyData();\r\n  }, []);\r\n\r\n  const fetchCompanyData = async () => {\r\n    try {\r\n      const data = await companyService.getCompany();\r\n      setCompany(data);\r\n    } catch (err) {\r\n      if (err.response?.status === 404) {\r\n        setError(\"لم يتم العثور على بيانات الشركة. يرجى إكمال إعداد الشركة أولاً.\");\r\n      } else {\r\n        setError(\"حدث خطأ أثناء تحميل بيانات الشركة\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  if (loading) return <div className=\"loading\"><div className=\"spinner\"></div></div>;\r\n\r\n  return (\r\n    <div style={{ minHeight: \"100vh\", background: \"var(--bg)\" }}>\r\n      <div className=\"container\" style={{ paddingTop: 24 }}>\r\n        {error ? (\r\n          <div className=\"card text-center\">\r\n            <h2 style={{ color: \"#dc3545\", marginBottom: 20 }}>خطأ</h2>\r\n            <p style={{ color: \"#6c757d\", marginBottom: 20 }}>{error}</p>\r\n            <button onClick={() => navigate(\"/company-setup\")} className=\"btn btn-primary\">\r\n              إعداد الشركة\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {/* Navigation Tabs */}\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                gap: \"10px\",\r\n                marginBottom: \"30px\",\r\n                background: \"white\",\r\n                padding: \"10px\",\r\n                borderRadius: \"8px\",\r\n                boxShadow: \"0 2px 10px rgba(0,0,0,0.1)\",\r\n              }}\r\n            >\r\n              {[\r\n                [\"overview\", \"نظرة عامة\"],\r\n                [\"company\", \"بيانات الشركة\"],\r\n                [\"requests\", \"طلبات العملاء\"],\r\n                [\"projects\", \"المشاريع\"],\r\n                [\"chat\", \"الدردشة\"],\r\n                [\"api\", \"API Key\"],\r\n              ].map(([key, label]) => (\r\n                <button\r\n                  key={key}\r\n                  onClick={() => setActiveTab(key)}\r\n                  className={`btn ${activeTab === key ? \"btn-primary\" : \"btn-secondary\"}`}\r\n                  style={{ flex: 1 }}\r\n                >\r\n                  {label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Tabs */}\r\n            {activeTab === \"overview\" && <Overview company={company} />}\r\n            {activeTab === \"company\" && <CompanyInfo company={company} onUpdate={fetchCompanyData} />}\r\n            {activeTab === \"requests\" && <CustomerRequests company={company} onUpdate={fetchCompanyData} />}\r\n            {activeTab === \"projects\" && <ProjectManagement />}\r\n            {activeTab === \"chat\" && <ChatInterface />}\r\n            {activeTab === \"api\" && <ApiKeyInfo company={company} />}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/*-------------------------------\r\n  نظرة عامة\r\n-------------------------------*/\r\nconst Overview = ({ company }) => (\r\n  <div className=\"grid grid-3\">\r\n    <div className=\"card text-center\">\r\n      <h3 style={{ color: \"#667eea\", marginBottom: 10 }}>اسم الشركة</h3>\r\n      <p style={{ fontSize: \"1.2rem\", fontWeight: 600 }}>{company?.name || \"غير محدد\"}</p>\r\n    </div>\r\n    <div className=\"card text-center\">\r\n      <h3 style={{ color: \"#667eea\", marginBottom: 10 }}>القطاع</h3>\r\n      <p style={{ fontSize: \"1.2rem\", fontWeight: 600 }}>{company?.industry || \"غير محدد\"}</p>\r\n    </div>\r\n    <div className=\"card text-center\">\r\n      <h3 style={{ color: \"#667eea\", marginBottom: 10 }}>عدد الطلبات</h3>\r\n      <p style={{ fontSize: \"1.2rem\", fontWeight: 600 }}>{company?.requests?.length || 0}</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n/*-------------------------------\r\n  معلومات الشركة\r\n-------------------------------*/\r\nconst CompanyInfo = ({ company, onUpdate }) => {\r\n  const [formData, setFormData] = useState(company);\r\n  const [loading, setLoading] = useState(false);\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  const handleChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setSuccess(\"\");\r\n    try {\r\n      await companyService.updateCompany(formData);\r\n      setSuccess(\"تم تحديث بيانات الشركة بنجاح\");\r\n      onUpdate();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h2 style={{ marginBottom: 20, color: \"#495057\" }}>بيانات الشركة</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        {[\"name\", \"industry\", \"description\", \"vision\", \"mission\"].map((field) => (\r\n          <div className=\"form-group\" key={field}>\r\n            <label className=\"form-label\">{field}</label>\r\n            <input\r\n              type=\"text\"\r\n              name={field}\r\n              className=\"form-input\"\r\n              value={formData?.[field] || \"\"}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n        ))}\r\n        {success && <div className=\"success\">{success}</div>}\r\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n          {loading ? \"جاري الحفظ...\" : \"حفظ التغييرات\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n/*-------------------------------\r\n  طلبات العملاء\r\n-------------------------------*/\r\nconst CustomerRequests = ({ company, onUpdate }) => {\r\n  const [requests, setRequests] = useState(company?.requests || []);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleDelete = async (index) => {\r\n    if (!window.confirm(\"هل أنت متأكد من حذف هذا الطلب؟\")) return;\r\n    setLoading(true);\r\n    try {\r\n      await companyService.deleteRequest(index);\r\n      setRequests((r) => r.filter((_, i) => i !== index));\r\n      onUpdate();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h2 style={{ marginBottom: 20, color: \"#495057\" }}>طلبات العملاء</h2>\r\n      {requests.length === 0 ? (\r\n        <p style={{ textAlign: \"center\", color: \"#6c757d\" }}>لا توجد طلبات حالياً</p>\r\n      ) : (\r\n        requests.map((req, i) => (\r\n          <div key={i} style={{ background: \"#f8f9fa\", padding: 15, borderRadius: 8, marginBottom: 10 }}>\r\n            <strong>{req.customerName}</strong>\r\n            <p>المنتج: {req.product}</p>\r\n            <p>الرسالة: {req.message}</p>\r\n            {req.aiReply && (\r\n              <p style={{ color: \"#007bff\" }}>\r\n                <strong>رد الذكاء الاصطناعي:</strong> {req.aiReply}\r\n              </p>\r\n            )}\r\n            <small>{new Date(req.date).toLocaleString(\"ar-EG\")}</small>\r\n            <div>\r\n              <button className=\"btn btn-secondary\" onClick={() => handleDelete(i)} disabled={loading}>\r\n                حذف\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n/*-------------------------------\r\n  API Key Info\r\n-------------------------------*/\r\nconst ApiKeyInfo = ({ company }) => {\r\n  const [copied, setCopied] = useState(false);\r\n  const apiURL = `${window.location.origin.replace(\"3000\", \"5000\")}/api/company/external-request`;\r\n\r\n  const copyKey = () => {\r\n    navigator.clipboard.writeText(company?.apiKey || \"\");\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h2 style={{ marginBottom: 20 }}>مفتاح API</h2>\r\n      <div style={{ display: \"flex\", gap: 10, marginBottom: 20 }}>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-input\"\r\n          value={company?.apiKey || \"\"}\r\n          readOnly\r\n        />\r\n        <button className=\"btn btn-secondary\" onClick={copyKey}>\r\n          {copied ? \"تم النسخ!\" : \"نسخ\"}\r\n        </button>\r\n      </div>\r\n\r\n      <div style={{ background: \"#e3f2fd\", padding: 15, borderRadius: 8 }}>\r\n        <h4 style={{ color: \"#1976d2\" }}>كيفية استخدام الـ API</h4>\r\n        <p>يمكن لأي عميل إرسال طلب إلى الذكاء الاصطناعي عبر:</p>\r\n        <pre\r\n          style={{\r\n            background: \"#f5f5f5\",\r\n            padding: 10,\r\n            borderRadius: 4,\r\n            fontSize: \"0.9rem\",\r\n            overflow: \"auto\",\r\n          }}\r\n        >\r\n{`POST ${apiURL}\r\nContent-Type: application/json\r\n\r\n{\r\n  \"apiKey\": \"${company?.apiKey || \"your-api-key\"}\",\r\n  \"customerName\": \"اسم العميل\",\r\n  \"product\": \"اسم المنتج\",\r\n  \"message\": \"رسالة العميل\"\r\n}`}\r\n        </pre>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}